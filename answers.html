<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Answers | PRIORITIZR WORKSHOP MANUAL</title>
  <meta name="description" content="Manual for the prioritizr module of the Introduction to Marxan &amp; MarZone &amp; Prioritizr - Training Course held at University of Victoria, Victoria, Canada." />
  <meta name="generator" content="bookdown 0.15.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Answers | PRIORITIZR WORKSHOP MANUAL" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://prioritizr.github.io/PacMara_workshop" />
  <meta property="og:image" content="https://prioritizr.github.io/PacMara_workshopimages/cover.png" />
  <meta property="og:description" content="Manual for the prioritizr module of the Introduction to Marxan &amp; MarZone &amp; Prioritizr - Training Course held at University of Victoria, Victoria, Canada." />
  <meta name="github-repo" content="prioritizr/PacMara_workshop" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Answers | PRIORITIZR WORKSHOP MANUAL" />
  
  <meta name="twitter:description" content="Manual for the prioritizr module of the Introduction to Marxan &amp; MarZone &amp; Prioritizr - Training Course held at University of Victoria, Victoria, Canada." />
  <meta name="twitter:image" content="https://prioritizr.github.io/PacMara_workshopimages/cover.png" />

<meta name="author" content="Jeffrey O. Hanson (with modifications by Richard Schuster)" />


<meta name="date" content="2019-11-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="spatial-prioritizations.html"/>
<link rel="next" href="acknowledgements.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PRIORITIZR WORKSHOP MANUAL</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#overview"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#setup"><i class="fa fa-check"></i><b>2.2</b> Setting up your computer</a><ul>
<li class="chapter" data-level="2.2.1" data-path="introduction.html"><a href="introduction.html#r"><i class="fa fa-check"></i><b>2.2.1</b> R</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction.html"><a href="introduction.html#rstudio"><i class="fa fa-check"></i><b>2.2.2</b> RStudio</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction.html"><a href="introduction.html#r-packages"><i class="fa fa-check"></i><b>2.2.3</b> R packages</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#further-reading"><i class="fa fa-check"></i><b>2.3</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="marxan-analysis.html"><a href="marxan-analysis.html"><i class="fa fa-check"></i><b>3</b> Redo Marxan analysis</a><ul>
<li class="chapter" data-level="3.1" data-path="marxan-analysis.html"><a href="marxan-analysis.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="marxan-analysis.html"><a href="marxan-analysis.html#starting-out"><i class="fa fa-check"></i><b>3.2</b> Starting out</a></li>
<li class="chapter" data-level="3.3" data-path="marxan-analysis.html"><a href="marxan-analysis.html#attaching-packages"><i class="fa fa-check"></i><b>3.3</b> Attaching packages</a></li>
<li class="chapter" data-level="3.4" data-path="marxan-analysis.html"><a href="marxan-analysis.html#base-analysis-on-input.dat"><i class="fa fa-check"></i><b>3.4</b> Base analysis on input.dat</a></li>
<li class="chapter" data-level="3.5" data-path="marxan-analysis.html"><a href="marxan-analysis.html#base-analysis-using-individual-.dat-files"><i class="fa fa-check"></i><b>3.5</b> Base analysis using individual .dat files</a></li>
<li class="chapter" data-level="3.6" data-path="marxan-analysis.html"><a href="marxan-analysis.html#recreate-the-marxan-analysis-starting-from-the-raw-data"><i class="fa fa-check"></i><b>3.6</b> Recreate the Marxan analysis starting from the raw data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>4</b> Data</a><ul>
<li class="chapter" data-level="4.1" data-path="data.html"><a href="data.html#data-import"><i class="fa fa-check"></i><b>4.1</b> Data import</a></li>
<li class="chapter" data-level="4.2" data-path="data.html"><a href="data.html#planning-unit-data"><i class="fa fa-check"></i><b>4.2</b> Planning unit data</a></li>
<li class="chapter" data-level="4.3" data-path="data.html"><a href="data.html#vegetation-data"><i class="fa fa-check"></i><b>4.3</b> Vegetation data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="spatial-prioritizations.html"><a href="spatial-prioritizations.html"><i class="fa fa-check"></i><b>5</b> Spatial prioritizations</a><ul>
<li class="chapter" data-level="5.1" data-path="spatial-prioritizations.html"><a href="spatial-prioritizations.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="spatial-prioritizations.html"><a href="spatial-prioritizations.html#starting-out-simple"><i class="fa fa-check"></i><b>5.2</b> Starting out simple</a></li>
<li class="chapter" data-level="5.3" data-path="spatial-prioritizations.html"><a href="spatial-prioritizations.html#adding-complexity"><i class="fa fa-check"></i><b>5.3</b> Adding complexity</a></li>
<li class="chapter" data-level="5.4" data-path="spatial-prioritizations.html"><a href="spatial-prioritizations.html#penalizing-fragmentation"><i class="fa fa-check"></i><b>5.4</b> Penalizing fragmentation</a></li>
<li class="chapter" data-level="5.5" data-path="spatial-prioritizations.html"><a href="spatial-prioritizations.html#budget-limited-prioritizations"><i class="fa fa-check"></i><b>5.5</b> Budget limited prioritizations</a></li>
<li class="chapter" data-level="5.6" data-path="spatial-prioritizations.html"><a href="spatial-prioritizations.html#solution-portfolios"><i class="fa fa-check"></i><b>5.6</b> Solution portfolios</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="answers.html"><a href="answers.html"><i class="fa fa-check"></i><b>6</b> Answers</a><ul>
<li class="chapter" data-level="6.1" data-path="answers.html"><a href="answers.html#redo-marxan-analysis"><i class="fa fa-check"></i><b>6.1</b> Redo Marxan analysis</a><ul>
<li class="chapter" data-level="6.1.1" data-path="answers.html"><a href="answers.html#base-analysis-on-input.dat-1"><i class="fa fa-check"></i><b>6.1.1</b> Base analysis on input.dat</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data.html"><a href="data.html#data"><i class="fa fa-check"></i><b>6.2</b> Data</a><ul>
<li class="chapter" data-level="6.2.1" data-path="answers.html"><a href="answers.html#planning-unit-data-1"><i class="fa fa-check"></i><b>6.2.1</b> Planning unit data</a></li>
<li class="chapter" data-level="6.2.2" data-path="answers.html"><a href="answers.html#vegetation-data-1"><i class="fa fa-check"></i><b>6.2.2</b> Vegetation data</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="spatial-prioritizations.html"><a href="spatial-prioritizations.html#spatial-prioritizations"><i class="fa fa-check"></i><b>6.3</b> Spatial prioritizations</a><ul>
<li class="chapter" data-level="6.3.1" data-path="answers.html"><a href="answers.html#starting-out-simple-1"><i class="fa fa-check"></i><b>6.3.1</b> Starting out simple</a></li>
<li class="chapter" data-level="6.3.2" data-path="answers.html"><a href="answers.html#adding-complexity-1"><i class="fa fa-check"></i><b>6.3.2</b> Adding complexity</a></li>
<li class="chapter" data-level="6.3.3" data-path="answers.html"><a href="answers.html#penalizing-fragmentation-1"><i class="fa fa-check"></i><b>6.3.3</b> Penalizing fragmentation</a></li>
<li class="chapter" data-level="6.3.4" data-path="answers.html"><a href="answers.html#budget-limited-prioritizations-1"><i class="fa fa-check"></i><b>6.3.4</b> Budget limited prioritizations</a></li>
<li class="chapter" data-level="6.3.5" data-path="answers.html"><a href="answers.html#solution-portfolios-1"><i class="fa fa-check"></i><b>6.3.5</b> Solution portfolios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>7</b> Acknowledgements</a></li>
<li class="chapter" data-level="8" data-path="session-information.html"><a href="session-information.html"><i class="fa fa-check"></i><b>8</b> Session information</a></li>
<li class="chapter" data-level="9" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>9</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PRIORITIZR WORKSHOP MANUAL</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="answers" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Answers</h1>
<p>This chapter contains the answers to the questions presented in the earlier chapters. The answers are provided here so you can check if your answers are correct.</p>
<div id="redo-marxan-analysis" class="section level2">
<h2><span class="header-section-number">6.1</span> Redo Marxan analysis</h2>
<div id="base-analysis-on-input.dat-1" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Base analysis on input.dat</h3>

<div class="rmdanswer">
<ol style="list-style-type: decimal">
<li>Subjective.</li>
<li>I would say, the most obvious differences are in the bottom left corner, where the Marxan results are rather diffuse and selection frequencies are low. This is actually a very good example of some ‘issues’ people have described with prioritizr. Its essentially related to a problem not having enough feature and cost heterogeneity for a decision support tool such as Marxan or prioritzr to find reasonable solutions.</li>
<li>Heterogenous cost structures help. So do features that are more complex or have more overlap with each other.</li>
</ol>
</div>

</div>
</div>
<div id="data" class="section level2">
<h2><span class="header-section-number">6.2</span> Data</h2>
<div id="planning-unit-data-1" class="section level3">
<h3><span class="header-section-number">6.2.1</span> Planning unit data</h3>

<div class="rmdanswer">
<ol style="list-style-type: decimal">
<li><code>nrow(pu_data)</code></li>
<li><code>max(pu_data$cost)</code></li>
<li><code>sum(pu_data$locked_in)</code></li>
<li><code>mean(pu_data$locked_in)</code></li>
<li><code>sum(pu_data$locked_out)</code></li>
<li><code>mean(pu_data$locked_out)</code></li>
<li><code>assert_that(min(c(pu_data$locked_in, pu_data$locked_out)) == 0)</code> <code>assert_that(max(c(pu_data$locked_in, pu_data$locked_out)) == 1)</code></li>
<li><code>all(is.finite(pu_data$cost))</code></li>
<li><code>assert_that(sum(duplicated(pu_data$id)) == 0)</code></li>
<li>Yes, the eastern side of Tasmania is generally much cheaper than the western side.</li>
<li>Yes, most planning units covered by protected areas are located in the south-western side of Tasmania.</li>
</ol>
</div>


</div>
<div id="vegetation-data-1" class="section level3">
<h3><span class="header-section-number">6.2.2</span> Vegetation data</h3>

<div class="rmdanswer">
<ol style="list-style-type: decimal">
<li>Central-north Tasmania</li>
<li><code>cellStats(veg_data[[12]], &quot;mean&quot;)</code></li>
<li><code>names(veg_data)[which.max(cellStats(veg_data, &quot;sum&quot;))]</code></li>
<li>Yes, they are the same.</li>
</ol>
</div>

</div>
</div>
<div id="spatial-prioritizations" class="section level2">
<h2><span class="header-section-number">6.3</span> Spatial prioritizations</h2>
<div id="starting-out-simple-1" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Starting out simple</h3>

<div class="rmdanswer">
<ol style="list-style-type: decimal">
<li><code>sum(s1$solution_1)</code>  <code>mean(s1$solution_1)</code></li>
<li>Yes, the planning units are generally spread out across most of the study area and they are not biased towards specific areas.</li>
<li><code>all(feature_representation(p1, s1[, &quot;solution_1&quot;])$relative_held &gt;= 0.2)</code></li>
</ol>
</div>

</div>
<div id="adding-complexity-1" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Adding complexity</h3>

<div class="rmdanswer">
<ol style="list-style-type: decimal">
<li><code>sum(s2$cost * s2$solution_1)</code>  <code>sum(s3$cost * s3$solution_1)</code>  <code>sum(s4$cost * s4$solution_1)</code></li>
<li><code>sum(s2$solution_1)</code>  <code>sum(s3$solution_1)</code>  <code>sum(s4$solution_1)</code></li>
<li>No, just because a solution a solution has more planning units does not mean that it will cost less.</li>
<li>This is because the planning units covered by existing protected areas have a non-zero cost and locking in these planning units introduces inefficiencies into the solution. This is very common in real-world conservation prioritizations because existing protected areas are often in places that do little to benefit biodiversity <span class="citation">(Fuller <em>et al.</em> <a href="#ref-r3">2010</a>)</span>.</li>
<li>This is because some of the planning units that are highly degraded—based on just the planning unit costs and vegetation data—provide cost-efficient opportunities for meeting the targets and excluding them from the reserve selection process means that other more costly planning units are needed to meet the targets.</li>
<li><code>sum(s4$cost * s4$solution_1) - sum(s4$cost * s4$locked_in)</code></li>
<li>We get an error message stating the the problem is infeasible because there is no valid solution—even if we selected all the planning units the study area we would still not meet the targets.</li>
</ol>
</div>

</div>
<div id="penalizing-fragmentation-1" class="section level3">
<h3><span class="header-section-number">6.3.3</span> Penalizing fragmentation</h3>

<div class="rmdanswer">
<ol style="list-style-type: decimal">
<li>The cost of the fourth solution is <code>sum(s4$solution_1 * s4$cost)</code> and the cost of the fifth solution is <code>sum(s5$solution_1 * s5$cost)</code>. The fifth solution (<code>s5</code>) costs more than the fourth solution (<code>s4</code>) because we have added penalties to the conservation planning problem to indicate that we are willing to accept a slightly more costly solution if it means that we can reduce fragmentation.</li>
<li>The solution is now nearly identical to the fourth solution (<code>s4</code>) and so has nearly the same cost. This penalty value is too low and is not useful because it does not reduce the fragmentation in our solution.</li>
<li>The solution now contains a lot of extra planning units that are not needed to meet our targets. In fact, nearly every planning unit in the study is now selected. This penalty value is too high and is not useful.</li>
</ol>
</div>

</div>
<div id="budget-limited-prioritizations-1" class="section level3">
<h3><span class="header-section-number">6.3.4</span> Budget limited prioritizations</h3>

<div class="rmdanswer">
<ol style="list-style-type: decimal">
<li><code>names(veg_data)[which.min(wts)]</code></li>
<li><code>sum(s6$cost * s6$solution_1)</code>  <code>sum(s7$cost * s7$solution_1)</code></li>
<li>No, the sixth (<code>s6</code>) and seventh (<code>s7</code>) solutions both share many of the same selected planning units and there does not appear to be an obvious difference in the spatial location of the planning units which they do not share.</li>
<li>Yes. Both solutions contain adequately represent these features: <code>r6$feature[r6$relative_held &gt; 0.2 &amp; r7$relative_held &gt; 0.2]</code> The sixth (<code>s6</code>) is adequately represents these features too: <code>r6$feature[r6$relative_held &gt; 0.2 &amp; !r7$relative_held &gt; 0.2]</code> The seventh (<code>s7</code>) is adequately represents these features too: <code>r7$feature[r7$relative_held &gt; 0.2 &amp; !r6$relative_held &gt; 0.2]</code></li>
</ol>
</div>


</div>
<div id="solution-portfolios-1" class="section level3">
<h3><span class="header-section-number">6.3.5</span> Solution portfolios</h3>

<div class="rmdanswer">
<ol style="list-style-type: decimal">
<li>No the cost are very similar.  <code>sum(s8$solution_1 * s8$cost)</code>  <code>sum(s8$solution_2 * s8$cost)</code>  <code>sum(s8$solution_3 * s8$cost)</code>  <code>sum(s8$solution_4 * s8$cost)</code>  <code>sum(s8$solution_5 * s8$cost)</code>  <code>sum(s8$solution_6 * s8$cost)</code></li>
<li>No the status of the planning units are very similar in the all of the solutions in the portfolio. <code>mean((s8$solution_1 == s8$solution_2) &amp; (s8$solution_1 == s8$solution_3) &amp; (s8$solution_1 == s8$solution_4) &amp; (s8$solution_1 == s8$solution_5) &amp; (s8$solution_1 == s8$solution_6))</code></li>
<li>We should increase the number of the solutions in the portfolio.</li>
</ol>
</div>


</div>
</div>
</div>
<h3> References</h3>
<div id="refs" class="references">
<div id="ref-r3">
<p>Fuller, R.A., McDonald-Madden, E., Wilson, K.A., Carwardine, J., Grantham, H.S., Watson, J.E., Klein, C.J., Green, D.C. &amp; Possingham, H.P. (2010). Replacing underperforming protected areas achieves better conservation outcomes. <em>Nature</em>, <em>466</em>, 365.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="spatial-prioritizations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="acknowledgements.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/prioritizr/cibio-workshop/edit/master/05-answers.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["prioritizr-workshop-manual.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
